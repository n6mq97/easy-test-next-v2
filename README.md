# Easy Test

## Цель
Создать приложение для прохождения тестов пользователем. Приложение будет расчитано на работу с ИИ в формате - ИИ дает короткую теорию и набор тестов в json. Пользователь переходит в приложение, добавляет теорию и тесты и проходит. К пройденному можно возвращаться, и быстро копировать, снова встравялть в ИИ и просить больше тестов, покрыть область шире или уйти вглубь. Это может помочь сделать подготовку к экзаменам или освоение новое темы более простым и увлекательным занятием.

## Стек
- Фреймворк: Next.js
- База данных: SQLite
- Аутентификация: NextAuth.js
- UI: TTailwind CSS v4 + shadcn/ui
- Развертывание: Dockerfile для Railway

## Запуск через Docker

### 1. Переменные окружения

Для запуска приложения необходимо создать файл `.env` в корне проекта. Вы можете скопировать `.env.example`:

```bash
cp .env.example .env
```

Файл должен содержать следующие переменные:

- `DATABASE_URL`: Путь к файлу базы данных. Для Docker-контейнера он должен быть абсолютным.
- `NEXTAUTH_URL`: Полный URL вашего приложения. Для локальной разработки это `http://localhost:3000`.
- `NEXTAUTH_SECRET`: Секретный ключ для подписи сессий. Вы можете сгенерировать его командой `openssl rand -hex 32`.

### 2. Сборка и запуск

1.  **Соберите Docker-образ:**
    ```bash
    docker build -t easy-test .
    ```

2.  **Запустите контейнер:**
    ```bash
    docker run -d --env-file .env -p 3000:3000 --name easy-test-container easy-test
    ```
    ```bash
    docker build -t easy-test-next-v2-test . && docker rm -f easy-test-container-test || true && docker run -d --env-file .env -e DATABASE_URL="file:/app/dev.db" -p 3000:3000 --name easy-test-container-test easy-test-next-v2-test
    ```
    *Эта команда запускает контейнер в фоновом режиме (`-d`), использует переменные из вашего `.env` файла (`--env-file .env`), пробрасывает порт `3000` (`-p 3000:3000`) и задает имя контейнеру.*

После этого приложение будет доступно по адресу `http://localhost:3000`.


## Сущности
- Пользователь
- Программа
- Раздел
- Вопрос

## Свойства сущностей

### Пользователь
- Имеет имя
- Имеет роль (базовый, админ)

### Вопрос
- Имеет вопрос
- Имеет варианты ответов
- Имеет номер правильного ответа
- Привязан к разделу

### Раздел
- Имеет название
- Имеет теорию
- Привязана к программе

### Программа
- Имеет название
- Имеет теорию
- Привязана к пользователю

## Схема данных
Отношения между основными сущностями строятся по принципу "один ко многим":
- User 1 <---> M Program. Один пользователь может иметь множество программ. Каждая программа принадлежит одному пользователю.
- Program 1 <---> M Section. Одна программа может содержать множество разделов. Каждый раздел принадлежит одной программе.
- Section 1 <---> M Question. Один раздел может содержать множество вопросов. Каждый вопрос принадлежит одному разделу.

## Функциональные требования
- Администратор зарегистрирован заранее в системе
- Администратор может экспортировать и импортировать БД
- Полььзователь может зарегистрироваться по имени и паролю
- Пользователь может войти по имени и паролю
- Пользователь может выйти из аккаунта
- Пользователь может создать программу, введя ее название
- Пользователь может удалить программу
- Пользователь может войти в программу
- Пользователь может выйти из программы
- Пользователь может добавить вопросы в формате json. json содержит имя раздела. Разделы добавляются в текущую выбранную программу
- Пользователь может удалить вопрос
- Пользователь может удалить раздел с вопрсами внутри
- Пользователь может просматривать общую статистику по программам
- Пользователь может просматривать статистику по разделам программы
- Пользователь может просматривать статистику по отдельным вопросам

## Требования к интерфесу
- Простой и лаконичный. Цвета - черный, белый и оттенки серого. Основной контент по центру страницы. Меню скрыто в бургер
- В каждом разделе описанном ниже должна быть возможность скопировать данные одним нажатием. То есть скоипировать названия и статистику. Это будет использоваться для работы с ИИ.
- После входа пользовтель видит статистику, имеет возможность выбрать программу или создать ее. Напротив каждой программы видит общий процент успешних ответов по ней. Имеет возможность выйти из аккаунта.
- После выбора программы пользователь видит статистику по программе. Имеет возможность удалить программу, а также редактировать теорию. Видит список разделов. И для каждого раздела процент успешних ответов. Имеет возможность добаить вопросы в формате json. В программе пользователь имеет возможность перейти в режим Карусели.
- После выбора раздела видит общую статистику, ниже теорию раздела. Имеет возможность удалить раздел, или редактировать его название, или редактировать его теорию. Видит список вопросов без вариантов ответов. Напротив каждого видит процент успешных ответов. Может запустить прохождение вопросов.
- В режиме прохождения вопросов проходит по вопросам раздела. Может удалить вопрос или редактировать его. На экране появляется по одному вопросу и варианты ответов. Пользователь выбирает вариант, он сразу подсвечивается. Правильный - нежным зеленым. Неправильный - нежным красным (при этом правильный отображается тоже). На странице вопроса есть кнопка далее - становится активной, когда выбран ответ. На последнем вопрое - кнопка Завершить. По завершению показыватеся общая статистика по разделу и варианты - вернуться к списку разделов, добавить вопросы.
- Режим Карусели - такой же режим прохождения вопросов. Но отличие в том, что выбирается 20 рандомных вопросов из программы и пользовтель проходит по ним.

## Формат json раздела с вопросам
```
[
  {
    "section": "1.\tОснови контейнеризації та відмінність від віртуалізації",
    "question": "Що є головною технічною відмінністю контейнера від віртуальної машини?",
    "answers": [
      "Контейнер має власне ядро ОС",
      "Контейнер ділить ядро хоста й ізолюється namespaces/cgroups",
      "У контейнера немає файлової системи",
      "Контейнер завжди працює швидше за нативний процес"
    ],
    "correct": 1
  },
]
```