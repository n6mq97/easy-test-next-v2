# Отчет: Этап 3.2 - UI: Основной компонент QuizView

**Статус:** `Завершен`

---

## Цель

Создать основной UI-компонент `QuizView`, который будет служить "каркасом" для всего процесса тестирования. Компонент будет отвечать за получение вопросов с бэкенда, управление состоянием теста и отображение текущего вопроса.

---

## План действий

1.  **Создание файла компонента:**
    - **Действие:** Создать новый файл `src/modules/quiz/components/QuizView.tsx`.

2.  **Определение структуры компонента:**
    - **Действие:** Пометить компонент директивой `'use client'`, так как он будет содержать состояние и взаимодействовать с пользователем.
    - **Props:** Определить, что компонент будет принимать `{ sectionId?: string; programId?: string; }` для идентификации режима теста.

3.  **Управление состоянием:**
    - **Действие:** Использовать хуки `useState` и `useEffect`.
    - **Состояния:**
        - `questions`: для хранения массива вопросов, полученных с сервера.
        - `currentQuestionIndex`: для отслеживания текущего вопроса.
        - `isLoading`: для отображения индикатора загрузки во время получения данных.

4.  **Получение данных:**
    - **Действие:** Внутри хука `useEffect` вызывать Server Action `getQuizQuestions`, созданный на предыдущем этапе.
    - **Логика:** Устанавливать `isLoading` в `true` перед запросом и в `false` после его завершения. Результат запроса сохранять в состоянии `questions`.

5.  **Реализация базовой разметки (View):**
    - **Действие:** Реализовать условный рендеринг:
        - Пока `isLoading` равно `true`, отображать сообщение "Загрузка вопросов...".
        - Если загрузка завершена, а массив `questions` пуст, отображать "Вопросы не найдены".
        - В основном состоянии отображать текст текущего вопроса (`questions[currentQuestionIndex]`).
        - Добавить кнопки "Далее" и "Завершить", которые будут условно отображаться в зависимости от того, является ли текущий вопрос последним.

6.  **Экспорт компонента:**
    - **Действие:** Экспортировать `QuizView` из `index.ts` модуля `quiz`, чтобы сделать его доступным для страниц роутинга.

---

## Ход выполнения

1.  **Создание файла:** Успешно создан файл `src/modules/quiz/components/QuizView.tsx`.
2.  **Структура компонента:** Компонент был помечен как `'use client'` и настроен на прием `sectionId` или `programId` через props.
3.  **Управление состоянием:** С помощью хуков `useState` реализовано управление состояниями `questions`, `currentQuestionIndex` и `isLoading`.
4.  **Получение данных:** Хук `useEffect` используется для асинхронного вызова `getQuizQuestions` при монтировании компонента, с корректной обработкой состояния загрузки.
5.  **Базовая разметка:** Реализована логика для отображения статуса загрузки, сообщения об отсутствии вопросов и основного интерфейса теста с текстом вопроса и кнопками навигации.
6.  **Экспорт:** Компонент `QuizView` был успешно экспортирован из `src/modules/quiz/index.ts`.

**Итог:** Этап успешно завершен. Базовый компонент `QuizView` готов и может быть использован на страницах роутинга для отображения процесса тестирования.
