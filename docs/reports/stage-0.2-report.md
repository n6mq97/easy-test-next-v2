# Отчет: Этап 0.2 - Установка и настройка Prisma

**Статус:** `Завершен`

---

## Цель

Интегрировать Prisma ORM в проект для обеспечения взаимодействия с базой данных SQLite.

---

## План действий

1.  **Установка Prisma CLI:**
    - **Команда:** `npm install prisma --save-dev`
    - **Ожидаемый результат:** Prisma добавлена в `devDependencies` в файле `package.json`.

2.  **Инициализация Prisma:**
    - **Команда:** `npx prisma init --datasource-provider sqlite`
    - **Ожидаемый результат:**
        - Создана директория `prisma` с файлом `schema.prisma`.
        - Создан файл `.env` в корне проекта.
        - `prisma/schema.prisma` содержит базовую конфигурацию для провайдера SQLite.

3.  **Настройка пути к базе данных:**
    - **Действие:** Внести изменения в файл `.env`.
    - **Изменение:** Установить переменную `DATABASE_URL="file:./dev.db"`.
    - **Ожидаемый результат:** Prisma будет использовать локальный файл `dev.db` в качестве базы данных.

4.  **Создание экземпляра клиента Prisma:**
    - **Действие:** Создать файл `src/lib/prisma.ts`.
    - **Содержимое:**
      ```typescript
      import { PrismaClient } from '@prisma/client';

      const prisma = new PrismaClient();

      export default prisma;
      ```
    - **Ожидаемый результат:** Создан единый, переиспользуемый экземпляр клиента Prisma, что предотвращает создание множественных подключений к базе данных.

5.  **Проверка конфигурации Prisma:**
    - **Команда:** `npx prisma validate`
    - **Ожидаемый результат:** Команда успешно выполняется и сообщает, что схема Prisma валидна.

---

## Ход выполнения

### Шаг 1: Установка Prisma CLI
- **Команда:** `npm install prisma --save-dev`
- **Результат:** Успешно.

### Шаг 2: Инициализация Prisma (Пропущен)
- **Команда:** `npx prisma init`
- **Результат:** Ошибка, так как директория `prisma` уже существует.
- **Корректирующее действие:** Файлы `prisma/schema.prisma` и `.env` были сконфигурированы вручную.

### Шаг 3 & 4: Создание клиента
- **Действие:** Создан файл `src/lib/prisma.ts`.
- **Результат:** Успешно.

### Шаг 5: Проверка
- **Команда:** `npx prisma validate`
- **Результат:** Успешно. Схема валидна, `.env` файл прочитан.

**Итог:** Этап успешно завершен. Prisma готова к работе.
