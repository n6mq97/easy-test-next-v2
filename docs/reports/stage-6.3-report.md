# Отчет: Этап 6.3 - Функции копирования и сортировка

**Статус:** `К выполнению`

---

## Цель

Добавить функционал для быстрого копирования контента (списков секций, теории, вопросов в формате текста и JSON) для удобной работы с ИИ. Реализовать клиентскую сортировку списка секций с запоминанием выбора пользователя.

---

## План действий

### Часть 1: Функционал копирования

1.  **Создание общего компонента `CopyToClipboardButton`:**
    *   **Действие:** Я разработаю новый переиспользуемый клиентский компонент. Он будет принимать текст через `props`, копировать его в буфер обмена по клику и предоставлять пользователю обратную связь (например, временно меняя текст на "Скопировано!").
    *   **Ожидаемый результат:** Наличие универсального компонента для всех задач копирования.

2.  **Реализация "Копировать список секций" на странице программы:**
    *   **Действие:** Я изменю компонент `ProgramHeader.tsx`. В выпадающее меню будет добавлен новый пункт "Copy Sections List". Я передам в `ProgramHeader` данные о секциях и их статистике, сформирую из них нужную строку и передам ее в `CopyToClipboardButton`.
    *   **Ожидаемый результат:** Пользователь может из меню на странице программы скопировать отформатированный список всех секций с их процентом успеваемости.

3.  **Реализация "Копировать теорию и вопросы" на странице секции:**
    *   **Действие:** Я добавлю новую кнопку в `SectionHeader.tsx`. На странице секции `app/sections/[id]/page.tsx` я соберу данные о теории и вопросах с их статистикой, сформирую строку и передам ее в `CopyToClipboardButton`.
    *   **Ожидаемый результат:** Пользователь может одной кнопкой скопировать всю текстовую информацию о секции.

4.  **Реализация "Копировать как JSON" на странице секции:**
    *   **Действие:** Я создам новое серверное действие `getSectionAsJson(sectionId)`, которое будет возвращать данные секции в формате, готовом для импорта. Затем я добавлю в `SectionHeader.tsx` еще одну кнопку, которая будет вызывать это действие и копировать полученный JSON в буфер обмена.
    *   **Ожидаемый результат:** Пользователь может легко экспортировать одну секцию для последующего импорта или модификации.

### Часть 2: Сортировка секций

5.  **Реализация сортировки в `SectionList`:**
    *   **Действие:** Я преобразую `SectionList.tsx` в клиентский компонент (`'use client'`). Добавлю элементы управления (например, выпадающие списки) для выбора критерия сортировки (`createdAt`, `updatedAt`) и порядка (ASC, DESC). С помощью `useState` и `useEffect` я реализую саму логику сортировки на клиенте и буду сохранять/загружать выбранные параметры в `localStorage`, чтобы выбор был постоянным между сессиями.
    *   **Ожидаемый результат:** Список секций на странице программы можно сортировать, и выбранный порядок сортировки сохраняется.
