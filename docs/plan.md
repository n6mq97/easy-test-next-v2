# План разработки "Easy Test"

Этот документ описывает пошаговый план реализации проекта. План составлен в соответствии с архитектурными принципами, изложенными в `AI_GUIDELINES.md` и других `README` файлах.

## Этап 0: Фундамент

**Цель:** Подготовить основу для разработки.

- [ ] Инициализация проекта Next.js (если еще не сделано).
- [ ] Установка и настройка Prisma.
- [ ] Определение всех моделей данных в `prisma/schema.prisma` (`User`, `Program`, `Section`, `Question`, `TestResult`).
- [ ] Создание и применение первой миграции базы данных.
- [ ] Настройка базовых стилей с Tailwind CSS.
- [ ] Создание `Dockerfile` для развертывания на Railway (многостадийная сборка, генерация Prisma Client, запуск миграций при старте).

## Этап 1: Аутентификация (Модуль `auth`)

**Цель:** Реализовать возможность регистрации и входа для пользователей.

- [ ] Настройка `NextAuth.js`.
- [ ] Создание UI компонентов для форм регистрации и входа (`src/modules/auth/components`).
- [ ] Реализация серверной логики (Server Actions) для создания пользователя и проверки учетных данных (`src/modules/auth/lib`).
- [ ] Создание защищенных роутов и страниц, доступных только после входа.

## Этап 2: Управление контентом (Модули `programs`, `sections`, `questions`)

**Цель:** Дать пользователям возможность создавать и управлять своими учебными программами, разделами и вопросами.

- [ ] **Programs:**
    - [ ] Создание UI для отображения списка программ и формы создания новой программы.
    - [ ] Реализация CRUD-операций для программ через Server Actions.
- [ ] **Sections & Questions (Импорт):**
    - [ ] Создание UI для импорта `json` с вопросами (`src/modules/questions/components`).
    - [ ] Реализация бэкенд-логики для парсинга `json`, которая атомарно создает раздел (если его нет) и все связанные вопросы (`src/modules/questions/lib`).
- [ ] **Управление:**
    - [ ] Реализация UI и логики для удаления программ, разделов и отдельных вопросов.
    - [ ] Реализация UI и логики для редактирования теории.

## Этап 3: Прохождение тестов (Модуль `quiz`)

**Цель:** Реализовать основной функционал приложения — прохождение тестов.

- [ ] Создание UI для режима прохождения тестов (`QuizView`), отображающего один вопрос.
- [ ] Реализация логики для получения вопросов (для раздела и "Карусели").
- [ ] Реализация логики проверки ответов и подсветки правильных/неправильных вариантов.
- [ ] Создание UI для экрана результатов.

## Этап 4: Статистика (Модуль `stats`)

**Цель:** Предоставить пользователю статистику по его прогрессу.

- [ ] Реализация бэкенд-логики для агрегации и расчета статистики (`src/modules/stats/lib`).
- [ ] Создание UI компонентов для отображения статистики на разных уровнях (общая, по программе, по разделу).

## Этап 5: Функционал администратора

**Цель:** Реализовать специальные возможности для роли "админ".

- [ ] Создание защищенной админ-панели.
- [ ] Реализация логики для экспорта (dump) и импорта базы данных.

## Этап 6: Полировка UI/UX

**Цель:** Довести интерфейс до финального вида.

- [ ] Проверка соответствия всего UI требованиям из `README.md` (цвета, расположение).
- [ ] Добавление функционала "скопировать данные одним нажатием".
- [ ] Общая проверка юзабилити.
